<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jokenpô com Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Estilos permanecem os mesmos */
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            min-height: 100vh;
        }
        h1 {
            margin: 20px 0;
            color: #333;
        }
        .content {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 1200px;
        }
        .players {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        .player {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 120px;
            height: 180px;
            background-color: #fff;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .player:hover {
            transform: scale(1.05);
        }
        .player img {
            width: 100%;
            height: 70%;
            object-fit: cover;
            border-radius: 10px 10px 0 0;
        }
        .player h5 {
            margin: 5px 0;
            font-size: 12px;
            text-align: center;
        }
        #gameControl {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            width: 100%;
            max-width: 1200px;
            margin-top: 20px;
        }
        #selectedPlayers {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            justify-content: flex-start;
            gap: 10px;
        }
        #startGame {
            padding: 10px 20px;
            font-size: 14px;
            background-color: #7f00ff;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
            transition: background-color 0.3s ease;
        }
        #startGame:disabled {
            background-color: #aaa;
            cursor: not-allowed;
        }
        .dashboard {
            flex: 2;
            max-width: 600px;
            margin-left: 20px;
            background-color: #fff;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        .dashboard canvas {
            max-width: 100%;
            height: 200px;
        }
        #gameDetails {
            margin-top: 10px;
            text-align: left;
            font-size: 14px;
        }
        #gameDetails p {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <h1>Jogo de Jokenpô com Dashboard</h1>
    <div class="content">
        <p>Escolha dois competidores:</p>
        <div id="players" class="players">
            <!-- Lista de jogadores -->
            <div class="player" onclick="selecionarJogador('Tupac')">
                <img src="./assets/imgs/Tupac.jpeg" alt="Tupac Shakur">
                <h5>Tupac Shakur</h5>
            </div>
            <div class="player" onclick="selecionarJogador('Biggie Smalls')">
                <img src="./assets/imgs/nototurousBigRed.jpg" alt="Biggie Smalls">
                <h5>Biggie Smalls (The Notorious B.I.G.)</h5>
            </div>
            <div class="player" onclick="selecionarJogador('Snoop Dogg')">
                <img src="./assets/imgs/SnoopyDogCinza.jpg" alt="Snoop Dogg">
                <h5>Snoop Dogg</h5>
            </div>
            <div class="player" onclick="selecionarJogador('Jay-Z')">
                <img src="./assets/imgs/JayZ.jpg" alt="Jay-Z">
                <h5>Jay-Z</h5>
            </div>
            <div class="player" onclick="selecionarJogador('Will Smith')">
                <img src="./assets/imgs/WillSmithRed.jpg" alt="Will Smith">
                <h5>Will Smith</h5>
            </div>
            <div class="player" onclick="selecionarJogador('Missy Elliott')">
                <img src="./assets/imgs/missy-elliott-2.jpg" alt="Missy Elliott">
                <h5>Missy Elliott</h5>
            </div>
            <div class="player" onclick="selecionarJogador('Pharrell Williams')">
                <img src="./assets/imgs/pharrell%20williams.avif" alt="Pharrell Williams">
                <h5>Pharrell Williams</h5>
            </div>
            <div class="player" onclick="selecionarJogador('Run-D.M.C.')">
                <img src="./assets/imgs/runDMC.avif" alt="Run-D.M.C.">
                <h5>Run-D.M.C.</h5>
            </div>
        </div>
        <div id="gameControl">
            <div id="selectedPlayers">
                <p><strong>Jogadores selecionados:</strong> <span id="player1">---</span> e <span id="player2">---</span></p>
                <button id="startGame" onclick="playGame()" disabled>Iniciar Jogo</button>
                <div id="gameDetails"></div>
            </div>
            <div class="dashboard">
                <h3>Pontuações</h3>
                <canvas id="scoreChart"></canvas>
            </div>
        </div>
    </div>
    <script>
        const scores = {
            "Tupac": 50, "Biggie Smalls": 50, "Snoop Dogg": 50, "Jay-Z": 50, "Will Smith": 50, 
            "Missy Elliott": 50, "Pharrell Williams": 50, "Run-D.M.C.": 50
        };
        const escolhas = ["Pedra", "Papel", "Tesoura"];
        let jogadoresSelecionados = [];
        let chart;

        function selecionarJogador(nome) {
            if (jogadoresSelecionados.length >= 2) return;
            if (!jogadoresSelecionados.includes(nome)) {
                jogadoresSelecionados.push(nome);
                if (jogadoresSelecionados.length === 1) {
                    document.getElementById("player1").textContent = nome;
                } else if (jogadoresSelecionados.length === 2) {
                    document.getElementById("player2").textContent = nome;
                    document.getElementById("startGame").disabled = false;
                }
            }
        }

        function playGame() {
            if (jogadoresSelecionados.length !== 2) return;

            const [jogador1, jogador2] = jogadoresSelecionados;
            const escolha1 = escolhas[Math.floor(Math.random() * escolhas.length)];
            const escolha2 = escolhas[Math.floor(Math.random() * escolhas.length)];
            let resultado;

            if (escolha1 === escolha2) {
                resultado = "Empate";
            } else if ((escolha1 === "Pedra" && escolha2 === "Tesoura") || 
                        (escolha1 === "Tesoura" && escolha2 === "Papel") || 
                        (escolha1 === "Papel" && escolha2 === "Pedra")) {
                resultado = `${jogador1} venceu!`;
                scores[jogador1] += 10;
                scores[jogador2] -= 5;
            } else {
                resultado = `${jogador2} venceu!`;
                scores[jogador2] += 10;
                scores[jogador1] -= 5;
            }

            document.getElementById("gameDetails").innerHTML = `
                <p><strong>Escolha de ${jogador1}:</strong> ${escolha1}</p>
                <p><strong>Escolha de ${jogador2}:</strong> ${escolha2}</p>
                <p><strong>Resultado:</strong> ${resultado}</p>
            `;

            jogadoresSelecionados = [];
            document.getElementById("player1").textContent = "---";
            document.getElementById("player2").textContent = "---";
            document.getElementById("startGame").disabled = true;

            atualizarGrafico();
        }

        function atualizarGrafico() {
            if (chart) {
                chart.destroy();
            }

            const ctx = document.getElementById('scoreChart').getContext('2d');
            chart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: Object.keys(scores),
                    datasets: [{
                        label: 'Pontuação',
                        data: Object.values(scores),
                        backgroundColor: Object.keys(scores).map(jogador => 
                            jogadoresSelecionados.includes(jogador) ? 'red' : 'black'
                        ),
                        borderColor: 'black',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                stepSize: 10
                            }
                        }
                    }
                }
            });
        }

        atualizarGrafico();
    </script>
</body>
</html>
